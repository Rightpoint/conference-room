<div class="room">
    <div ng-if="c.loadsInProgress">LOADING - {{ c.loadsInProgress }}</div>
    <div class="buttons">
        <button class="btn" ng-click="c.refresh()">Refresh</button>
        <div ng-if="c.current">
            <div ng-if="c.current.status == c.BusyNotConfirmed">
                <button class="btn" ng-click="c.start(c.current)">{{ current.isInFuture ? 'Start Early' : 'Start' }}</button>
                <button class="btn" ng-click="c.cancel(c.current)">Cancel</button>
            </div>
            <div ng-if="c.current.status == c.Busy">
                <button class="btn" ng-click="c.end(c.current)">End early</button>
                <button ng-if="next" class="btn" ng-click="c.endAndStartNext(c.current, c.mnext)">End early and start next meeting</button>
            </div>
        </div>
    </div>
    <h3>{{c.displayName}} - {{ c.currentTime().format('ddd M/DD h:mm a') }}</h3>
    <div class="current-appointment">
        <div ng-if="c.current">
            <h4>{{c.current.Subject}}</h4>
            <h5>{{c.current.Organizer}}</h5>
            <p>{{ c.moment(c.current.Start).format('h:mm a') }} - {{ c.moment(c.current.End).format('h:mm a') }}</p>
        </div>
    </div>
    <div class="today-free-busy">
        <!-- something with nested progress bars? -->
    </div>
    <div class="timeline">

    </div>
    <table class="table-bordered">
        <thead>
        <tr>
            <th>Subject</th>
            <th>Organizer</th>
            <th>Start</th>
            <th>End</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="appt in c.appointments">
            <td>{{ appt.Subject }}</td>
            <td>{{ appt.Organizer }}</td>
            <td>{{ appt.Start }}</td>
            <td>{{ appt.End }}</td>
        </tr>
        </tbody>
    </table>
    <pre>{{ c | json }}</pre>
</div>
